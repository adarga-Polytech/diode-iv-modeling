<!DOCTYPE html>
<html lang='en'>
<head>
	<meta charset='utf-8'>
	<title>IV modelling</title>
	<script src='Script02.js'></script>
	<script src='fit.js'></script>
	<script src='bobGraph.js'></script>
	<link rel='stylesheet' href='style2.css'>
	<link rel='shortcut icon' href='file://localhost/D:/Documents/HTML/favicon.ico' />
	<script type='text/javascript'>
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-34791046-1']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
</head>
<body>
	<div id='outer'>
		<div id='left'>
			<form name='parameters' action='#' id='currentCalculation'>
				<label class='form' for='Volt'>V<sub>i</sub> (V)</label>
				<input class='linearScaleBox' id='minVolt' type='number' name='minVolt' step='0.01' value=-1.4 onChange=checkVoltageAndCalc()><br>
				<label class='form' for='Volt'>V<sub>f</sub> (V)</label>
				<input class='linearScaleBox' id='maxVolt' type='number' name='maxVolt' step='0.01' value=1.4 onChange=checkVoltageAndCalc()><br>
				<label class='form' for='Volt'>&Delta;V (mV)</label>
				<input class='linearScaleBox' id='stepVolt' type='number' name='stepVolt' min='0.01' step='5' value=25 onChange=checkVoltageAndCalc()><br>
				<br>
				<label class='form' for='Ampere'>I<sub>ph</sub> (mA)</label>
				<!-- Slider for Iph -->
				<input id='sliderIph' name='IphSlider' class='linearScaleSlider' type='range' min=0 max=1 step='0.01' value=0 onMouseUp=adjustRange('IphSlider','Iph') onChange=SyncSlidernBox('IphSlider','Iph')>
				<!-- Text box for Iph -->
				<input id='Iph' name='Iph' class='linearScaleBox' type='number' min='0' step='0.001' value=0 onBlur='changeStep(event,this.value)' onChange=SyncSlidernBox('Iph','IphSlider')><br>
				<label class='form' for='Kelvin'>T (K)</label>
				<!-- Slider for T -->
				<input id='sliderT' name='TSlider' class='linearScaleSlider' type='range' min=200 max=400 value=298 onMouseUp=adjustRange('TSlider','T') onChange=SyncSlidernBox('TSlider','T')>
				<!-- Text box for T -->
				<input id='T' class='linearScaleBox' type='number' name='T' min=1 value=298 onBlur='changeStep(event,this.value)' onChange=SyncSlidernBox('T','TSlider')><br>
				<br>
				<label class='form' >n<sub>1</sub></label>
				<!-- Slider for n1 -->
				<input id='slidern1' name='n1Slider' class='linearScaleSlider' type='range' min=0 max=10 step=0.01 value=3 onMouseUp=adjustRange('n1Slider','n1') onChange=SyncSlidernBox('n1Slider','n1')>
				<!-- Text box for n1 -->
				<input id='n1' class='linearScaleBox' type='number' min='0' step='0.01' name='n1' value=3 onBlur='changeStep(event,this.value)' onChange=SyncSlidernBox('n1','n1Slider')><br>
				<label class='form' >n<sub>2</sub></label>
				<!-- Slider for n2 -->
				<input id='slidern2' name='n2Slider' class='linearScaleSlider' type='range' min=0 max=10 step=0.01 value=1 onMouseUp=adjustRange('n2Slider','n2') onChange=SyncSlidernBox('n2Slider','n2')>
				<!-- Text box for n2 -->
				<input id='n2' class='linearScaleBox' type='number' min='0' step='0.01' name='n2' value=1 onBlur='changeStep(event,this.value)' onChange=SyncSlidernBox('n2','n2Slider')><br>
				<br>
				<label class='form'  for='Ampere'>Is<sub>1</sub> (A)</label>
				<!-- Slider for Is1 -->
				<input name='Is1slider' id='sliderIs1' class='LogScale' type='range' min=-10 max=1 step=0.1 value=-8 onMouseUp=adjustRange('Is1slider','Is1') onChange=SyncSlidernBox('Is1slider','Is1')>
				<!-- Text box for Is1 -->
				<input type='number' class='LogScaleBox' id='Is1' name='Is1' min=0 value=1e-8 step=1e-10 onChange=SyncSlidernBox('Is1','Is1slider')><br>
				<label class='form' for='Ampere'>Is<sub>2</sub> (A)</label>
				<!-- Slider for Is2 -->
				<input name='Is2slider' id='sliderIs2' class='LogScale' type='range' min=-19 max=10 step=0.1 value=-16 onMouseUp=adjustRange('Is2slider','Is2') onChange=SyncSlidernBox('Is2slider','Is2')>
				<!-- Text box for Is2 -->
				<input type='number' class='LogScaleBox' id='Is2' name='Is2' min=0 value=1e-16 step=1e-18 onChange=SyncSlidernBox('Is2','Is2slider')><br>
				<br>
				<label class='form' for='Ohm'>R<sub>p1</sub> (&Omega;)</label>
				<!-- Slider for Rp -->
				<input name='Rpslider' id='sliderRp' class='LogScale' type='range' min=3 max=9 step=0.1 value=5 onMouseUp=adjustRange('Rpslider','Rp') onChange=SyncSlidernBox('Rpslider','Rp')>
				<!-- Text box for Rp -->
				<input type='number' class='LogScaleBox' id='Rp' name='Rp' min=1 value=1e5 step=1e3 onChange=SyncSlidernBox('Rp','Rpslider')><br>
				<label class='form' for='Ohm'>R<sub>p2</sub> (&Omega;)</label>
				<!-- Slider for Rp2 -->
				<input name='Rp2slider' id='sliderRp2' class='LogScale' type='range' min=3 max=9 step=0.1 value=4 disabled='disabled' onMouseUp=adjustRange('Rp2slider','Rp2') onChange=SyncSlidernBox('Rp2slider','Rp2')>
				<!-- Text box for Rp2 -->
				<input type='number' class='LogScaleBox' id='Rp2' name='Rp2' min=1 value=1e4 disabled='disabled' onChange=SyncSlidernBox('Rp2','Rp2slider')><br>
				<br>
				<label class='form' for='Ohm'>R<sub>s</sub> (&Omega;)</label>
				<!-- Slider for Rs -->
				<input id='sliderRs' name='RsSlider' class='linearScaleSlider' type='range' min=0 max=10 step=0.01 value=1.5 onMouseUp=adjustRange('RsSlider','Rs') onChange=SyncSlidernBox('RsSlider','Rs')>
				<!-- Text box for Rs -->
				<input id='Rs' class='linearScaleBox' type='number' min=0 step=0.01 name='Rs' value=1.5 onBlur='changeStep(event,this.value)' onChange=SyncSlidernBox('Rs','RsSlider')><br>
				<br>
				<input type='radio' name='nbDiodes' id='singleDiode' onChange=disableAndCalc(['n2','slidern2','Is2','sliderIs2','series'])><label>Single Diode</label><br>
				<input type='radio' name='nbDiodes' id='doubleDiode' checked='checked' onChange=enableAndCalc(['n2','slidern2','Is2','sliderIs2','series','Rp2','sliderRp2']) ><label>Double Diode</label>
				<br><br>
				<input type='radio' name='model' id='parallel' checked='checked' onChange=disableAndCalc(['Rp2','sliderRp2'])><label>Parallel</label><br>
				<input type='radio' name='model' id='series' onChange=enableAndCalc(['Rp2','sliderRp2']) ><label>Series</label>
			</form>
		</div>
		<div id='centrecontent'>
			<form name='graph' id='graphParam' action='#'>
				Scale type: 
				<input type='radio' name='scale' id='linear' onChange=calcIV()><label>Linear</label>   
				<input type='radio' name='scale' id='log' checked='checked' onChange=calcIV()><label>Logarithmic</label>
			</form>
			<canvas id='graph' width='550' height='400'>[No canvas support. Consider upgrade your browser to Opera or Chrome. Or at least Firefox or Internet Explorer 9]</canvas>
			<div id='rightCol'>
				<form id='localFile'>
					<input id='fileInput' type='file' value='Clear' onchange='processFiles(this.files)'><br>
					<input id='clear' type='button' value='Clear' disabled='disabled' onclick='clearData()'>
				</form>
			</div>
			<div id='fit'>
				<output id='estimatedRp' form='localFile'></output><br>
				<input id='removeIrp' type='button' value='Hide Irp' disabled='disabled' onclick='removeIrp()'><br>
				<input id='removeNonLinCurr' type='button' value='Remove non-linear reverse current' disabled='disabled' onclick='removeNonLinCurr()'><br>
				<output id='squaredResSum'></output><br><br>
				<output id='paramEstim'></output><br>
				<button id='updateParams' type='button' style='visibility:hidden' onclick='updateParams()'>Update Parameters</button>
			</div>
		</div>
		<div id='clearfooter'></div><!-- to clear footer -->
	</div> <!-- end outer div -->
	<footer>
		<address>
			<a href='mailto:boris.morel@outlook.com' rel='author'>Contact</a> | 
			<a href='http://be.linkedin.com/in/borismorel' hreflang='en' rel='author' target='_blank'>linkedin.com/in/borismorel</a>
		</address>
	</footer>
	<header>
		<h1>IV Modelling</h1>
	</header>
</body>